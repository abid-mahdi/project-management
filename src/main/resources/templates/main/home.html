<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
   <head th:replace="layouts :: header"></head>
   <title>Home</title>
   <link rel="stylesheet" th:href="@{/css/style.css}">
   <body id="home-body">
      <nav th:replace="layouts :: navbar"></nav>
      <div class = "container">
         <h3 style="margin-top: 15px; text-align: center;">Main Dashboard</h3>
         <hr>
         <h4>Current Projects</h4>
         <div class="row">
            <div class="col-md-6">
               <table class="table table-bordered table-striped">
                  <thead class="thead-dark">
                     <tr>
                        <th>Project Name</th>
                        <th>Project Stage</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr th:each="aProject:${projects}">
                        <td th:text = "${aProject.name}" >
                        <td th:text = "${aProject.stage}">
                     </tr>
                  </tbody>
               </table>
            </div>
            <div class = "col-md-4" >
               <canvas id="myPieChart" height="50" width="50"></canvas>
               <script>
               		var chartData = "[[${projectStatusCount}]]"
               </script>
            </div>
         </div>
         <div class="container">
            <h4>Current Employees</h4>
            <div class="row">
               <div class="col-md-6">
                  <table class="table table-bordered table-striped">
                     <thead  class="thead-dark">
                        <tr>
                           <th>Full Name</th>
                           <th>Project Count</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr th:each="aEmployee:${employees}">
                           <td th:text = "${aEmployee.firstName} + ' ' + ${aEmployee.lastName}">              
                           <td th:text = "${aEmployee.projectCount}">
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
      </div>
      <script type="text/javascript" th:src="@{js/myChart.js}"></script>
   </body>
</html>